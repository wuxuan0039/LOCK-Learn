# TOTP学习笔记
## 1.基本描述
通过将共享密钥和根据时间戳成生成的一次性密码相结合的算法

### 算法官方介绍:https://tools.ietf.org/html/rfc6238


通过客户端和服务器持有相同的密钥并基于时间基数，服务端和客户端采用相同的Hash算法，计算出长度为六位的校验码。当客户端和服务端计算出的校验码相同是，那么验证通过。

### 特点
一次性、随时间段周期性改变

## 2.基本原理

### 整体计算公式
` TOTP(K, TC) = Truncate(HMAC-SHA-256(K, TC)) `

K是密钥串

HMAC-SHA-256， 表示使用SHA-256做HMAC

C是时间，通过定义开始时间（T0）一级时间间隔（T1）为单位计数，将当前的时间戳变为整数的时间计数器TC

Truncate，是一个函数，用于截取加密后的字符串

### TC计算公式
` TC = (T - T0) / T1 `

T，当前的时间戳
T0，起始时间，一般为0
T1，时间间隔

### Truncate函数
取加密后的最后一个字节的低4位

然后将其按照大端方式组成整数

根据需要的密码长度对整数取模并转换为字符串形式

如果长度不足用0补足长度
